<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ensemble Lightbox demo</title>
<link rel="stylesheet" href="../dist/css/ensemble-lightbox.css">
<link rel="stylesheet" href="demo-ensemble-lightbox.css">
</head>
<body>
<main>
  <h1>ensemble Lightbox demo</h1>

  <section>
    <h2 class="js-class">ensemble.Lightbox</h2>

    <article class="example">
      <h2>Grouping <em>using selector</em> with option <code>infinite: true</code></h2>

      <div class="grid">
        <figure>
          <a href="image-test-28231.jpg">
            <img src="image-test-28231.jpg" alt="Caption from img[alt]">
          </a>
        </figure>
        <figure>
          <a href="image-test-109054.jpeg" title="Caption from a[title]">
            <img src="image-test-109054.jpeg">
          </a>
        </figure>
        <figure>
          <a href="iframe-test.html" data-caption="Test iframe"></a>
        </figure>
        <figure>
          <a href="image-test-821573.png">
            <img src="image-test-821573.png" alt="Caption from img[alt]">
          </a>
        </figure>
        <figure>
          <a href="image-test-image008.jpg">
            <img src="image-test-image008.jpg" data-caption="Caption from img[data-caption]">
          </a>
        </figure>
        <figure>
          <a href="pdf-test.pdf" data-caption="Test PDF"></a>
        </figure>
        <figure>
          <a href="image-test.gif" data-caption="Animated GIF image">
            <img src="image-test.gif">
          </a>
        </figure>
        <figure>
          <a href="data:image/svg+xml;base64,PHN2ZyBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjIiIHZpZXdCb3g9IjAgMCA2MDAgNjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im0wIDBoNjAwdjYwMGgtNjAweiIgZmlsbD0iI2NhYzBjYSIvPjxwYXRoIGQ9Im01OS45OTk5OCA4MGgxOTkuOTk5OTh2MTk5Ljk5OTk4aC0xOTkuOTk5OTh6IiBmaWxsPSIjNTAzYjhkIiBzdHJva2Utd2lkdGg9Ii44MzY4MiIvPjxjaXJjbGUgY3g9IjMwMC4wMDAzOCIgY3k9IjMwNS4wMDAxNCIgZmlsbD0iIzc3M2M4YyIgcj0iMTM1LjAwMDA2IiBzdHJva2Utd2lkdGg9IjEuMjIxNzIiLz48cGF0aCBkPSJtMzM5LjUgMjM1IDE0Mi41IDI4NWgtMjg1eiIgZmlsbD0iIzMwM2U3NyIgdHJhbnNmb3JtPSJtYXRyaXgoMS4yNjMxNiAwIDAgMS4wMTc1NCAtNjguODQyMSAxMC44NzcyKSIvPjwvc3ZnPg==" data-caption="inline svg">
            <img src="data:image/svg+xml,%3Csvg clip-rule='evenodd' fill-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='2' viewBox='0 0 600 600' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m0 0h600v600h-600z' fill='%23cac0ca'/%3E%3Cpath d='m59.99998 80h199.99998v199.99998h-199.99998z' fill='%23503b8d' stroke-width='.83682'/%3E%3Ccircle cx='300.00038' cy='305.00014' fill='%23773c8c' r='135.00006' stroke-width='1.22172'/%3E%3Cpath d='m339.5 235 142.5 285h-285z' fill='%23303e77' transform='matrix(1.26316 0 0 1.01754 -68.8421 10.8772)'/%3E%3C/svg%3E">
          </a>
        </figure>
      </div>
    </article>

    <article class="example">
      <h2>Grouping <em>using selector</em> with option <code>infinite: false</code></h2>

      <div class="grid">
        <figure>
          <a href="image-test-126293.webp">
            <img src="image-test-126293.webp" alt="WEBP image">
          </a>
        </figure>
        <figure>
          <a href="image-test-28231.jpg">
            <img src="image-test-28231.jpg" alt="JPEG image">
          </a>
        </figure>
        <!--<figure>
          <a href="image-test.avif">
            <img src="image-test.avif" alt="AVIF image">
          </a>
        </figure>-->
      </div>
    </article>

    <article class="example">
      <h2>Contents passed <em>by options</em> with option <code>contents: [{...}, ...]</code></h2>

      <div>
        <button id="button-lightbox">Open lightbox</button>
      </div>
    </article>
  </section>

  <section>
    <h2 class="js-class">ensemble.Modal</h2>

    <article class="example">
      <h3>Modal with inline content</h3>

      <span class="content">Show this content in a modal.</span>

      <div>
        <button id="button-modal">Open modal</button>
      </div>
    </article>
  </section>
</main>

<!-- <script src="../../ensemble/src/js/Compo.js"></script> -->
<!-- <script src="../../ensemble/src/js/Data.js"></script> -->
<!-- <script src="../../ensemble/src/js/Event.js"></script> -->
<!-- <script src="../../ensemble/src/js/base.js"></script> -->
<!-- <script src="../../ensemble-modal/src/js/Modal.js"></script> -->
<!-- <script src="../src/js/Lightbox.js"></script> -->
<script src="../dist/js/ensemble-lightbox.min.js"></script>

<!-- example: Grouping using selector with option { infinite: true } -->
<script>
  var group = document.querySelector('article:nth-child(2) .grid');

  var lightbox = new ensemble.Lightbox(group,
    {
      selector: 'a',
      infinite: true
    }
  );

  for (const a of group.querySelectorAll('a')) {
    a.addEventListener('click', lightbox.open, true);
  }
</script>

<!-- example: Grouping using selector with option { infinite: false } -->
<script>
  var group = document.querySelector('article:nth-child(3) .grid');

  var lightbox = new ensemble.Lightbox(group,
    {
      selector: 'a',
      infinite: false
    }
  );

  for (const a of group.querySelectorAll('a')) {
    a.addEventListener('click', lightbox.open, true);
  }
</script>

<!-- example: Contents passed by options with option { contents: [{...}, ...] } -->
<script>
  const contents = [
    {
      type: 'element',
      node: (() => {
        var el = document.createElement('div');
        el.innerText = 'Custom element test.';
        return el;
      })()
    },
    {
      type: 'video',
      loop: true,
      poster: 'video-test-card.png',
      sources: [
        {
          type: 'video/mp4',
          src: 'video-test-card.mp4'
        },
        {
          type: 'video/webm',
          src: 'video-test-card.webm'
        }
      ]
    },
    {
      type: 'video',
      src: 'https://www.youtube.com/embed/mN0zPOpADL4',
      caption: 'Agent 327: Operation Barbershop\n\nfrom Blender Studio',
      allow: 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture'
    },
    {
      type: 'video',
      src: 'https://player.vimeo.com/video/325910798',
      caption: 'Spring - Blender Open Movie\n\nfrom Blender Studio',
      allow: 'autoplay; fullscreen; picture-in-picture'
    },
    {
      type: 'audio',
      src: 'https://open.spotify.com/embed/album/54Awn36ryf55PkZyOR4iwQ',
      allow: 'encrypted-media'
    },
    /*{
      type: 'iframe',
      src: 'https://docs.google.com/forms/d/e/1FAIpQLSeI8_vYyaJgM7SJM4Y9AWfLq-tglWZh6yt7bEXEOJr_L-hV1A/viewform?formkey=dGx0b1ZrTnoyZDgtYXItMWVBdVlQQWc6MQ',
      height: '100%',
      allowFullscreen: true
    },*/
    {
      type: 'iframe',
      src: 'https://www.openstreetmap.org/export/embed.html?bbox=-5.888671875%2C34.397844946449865%2C25.532226562500004%2C48.951366470947725&amp;layer=mapnik',
      allowFullscreen: true
    },
    {
      type: 'audio',
      src: 'audio-test.wav',
      autoplay: true
    }
  ];

  var button = document.getElementById('button-lightbox');
  var lightbox = new ensemble.Lightbox({contents});

  button.addEventListener('click', lightbox.open, true);
</script>

<!-- example: Modal with inline content -->
<script>
  var element = document.querySelector('.content');

  var modal = new ensemble.Modal(element);
  var button = document.getElementById('button-modal');

  button.addEventListener('click', modal.open, true);
</script>

</body>
</html>
